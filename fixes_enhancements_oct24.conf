




### student-qat.uwo.ca--443 ########## - Hover for more details - ##########

# not capturing the action from the service policy


add lb vserver student-qat.uwo.ca--443 SSL 172.31.25.65 443 -persistenceType COOKIEINSERT -timeout 1201 -lbMethod ROUNDROBIN -redirectURL "http://www.uwo.ca/western/PeopleSoft/HEOutage/studentStaticQAT.html" -cltTimeout 1201 -appflowLog DISABLED -lbprofilename "SameSite=None Override" -devno 62029824

bind ssl vserver student-qat.uwo.ca--443 -cipherName UWO-default
bind ssl vserver student-qat.uwo.ca--443 -certkeyName student-qat_wisg_uwo_ca_v1
add ssl certKey student-qat_wisg_uwo_ca_v1 -cert student-qat_wisg_uwo_ca_v1.crt -key student-qat_wisg_uwo_ca_v1.key f94b16649a6ec398a4fb8ba18e5b78f65f16b7b4deb7a2ec7a1076f6195270f37cd533656c9d672e7cfdaa375788ec34 -encrypted -encryptmethod ENCMTHD_3 -kek -suffix 2022_09_28_20_29_18 -expiryMonitor DISABLED
bind ssl vserver student-qat.uwo.ca--443 -certkeyName Sectigo_intermediate -CA -ocspCheck Optional
add ssl certKey Sectigo_intermediate -cert SectigoRSAOrganizationValidationSecureServerCA-int.der -inform DER -expiryMonitor DISABLED
bind ssl vserver student-qat.uwo.ca--443 -certkeyName Sectigo-Intermediate-2-usr-trust -CA -ocspCheck Optional
add ssl certKey Sectigo-Intermediate-2-usr-trust -cert "USERTrust RSA Certification Authority.pem" -expiryMonitor DISABLED
bind ssl vserver student-qat.uwo.ca--443 -certkeyName Sectigo-Root-AAA-cert -CA -ocspCheck Optional
add ssl certKey Sectigo-Root-AAA-cert -cert "AAA Certificate Services.pem" -expiryMonitor DISABLED
bind ssl vserver student-qat.uwo.ca--443 -eccCurveName P_256
bind ssl vserver student-qat.uwo.ca--443 -eccCurveName P_384
bind ssl vserver student-qat.uwo.ca--443 -eccCurveName P_224
bind ssl vserver student-qat.uwo.ca--443 -eccCurveName P_521

bind lb vserver student-qat.uwo.ca--443 student-qat--weber02--7035
add service student-qat--weber02--7035 weber02.its.uwo.pri HTTP 7035 -gslb NONE -maxClient 0 -maxReq 0 -cip ENABLED WL-Proxy-Client-IP -usip NO -useproxyport YES -sp ON -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -state DISABLED -appflowLog DISABLED -devno 38666240
add server weber02.its.uwo.pri 172.29.52.50 -state DISABLED -comment NOC-9852 -devno 16867

bind lb vserver student-qat.uwo.ca--443 student-qat--weber03--7035
add service student-qat--weber03--7035 weber03.its.uwo.pri HTTP 7035 -gslb NONE -maxClient 0 -maxReq 0 -cip ENABLED WL-Proxy-Client-IP -usip NO -useproxyport YES -sp ON -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -state DISABLED -appflowLog DISABLED -devno 38371328
add server weber03.its.uwo.pri 172.29.52.51 -state DISABLED -comment NOC-9852 -devno 16868

bind lb vserver student-qat.uwo.ca--443 student-qat--nweber04--7035
add service student-qat--nweber04--7035 nweber04.its.uwo.pri HTTP 7035 -gslb NONE -maxClient 0 -maxReq 0 -cip ENABLED WL-Proxy-Client-IP -usip NO -useproxyport YES -sp ON -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -appflowLog DISABLED -devno 899219456
add server nweber04.its.uwo.pri 172.31.33.172 -comment NI-43936 -devno 22202

bind lb vserver student-qat.uwo.ca--443 student-qat--nweber05--7035
add service student-qat--nweber05--7035 nweber05.its.uwo.pri HTTP 7035 -gslb NONE -maxClient 0 -maxReq 0 -cip ENABLED WL-Proxy-Client-IP -usip NO -useproxyport YES -sp ON -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -appflowLog DISABLED -devno 899186688
add server nweber05.its.uwo.pri 172.31.33.173 -comment NI-43936 -devno 22203


bind lb vserver student-qat.uwo.ca--443 -policyName rw_add_samesite_cookie_info -priority 100 -gotoPriorityExpression END -type RESPONSE

add rewrite policy rw_add_samesite_cookie_info "http.RES.HEADER(\"Set-Cookie\").EXISTS" rw_ac_samesite_insert




--------------------------------------------------

### finance.uwo.ca--49000 ########## - Hover for more details - ##########

# good example of multiple services.  not following the -backupVServer

add lb vserver finance.uwo.ca--49000 TCP 129.100.0.40 49000 -persistenceType NONE -cltTimeout 301 -backupVServer finance.uwo.ca--49000-failover01 -appflowLog DISABLED -devno 59146240
bind lb vserver finance.uwo.ca--49000-failover01 finance--austin02--49000
add service finance--austin02--49000 austin02.its.uwo.pri TCP 49000 -gslb NONE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -sp OFF -cltTimeout 301 -svrTimeout 301 -CKA NO -TCPB NO -CMP NO -downStateFlush DISABLED -appflowLog DISABLED -devno 36503552
add server austin02.its.uwo.pri 172.31.30.45 -comment NOC-8872 -devno 16854
bind lb vserver finance.uwo.ca--49000 finance--austin01--49000
add service finance--austin01--49000 austin01.its.uwo.pri TCP 49000 -gslb NONE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -sp OFF -cltTimeout 301 -svrTimeout 301 -CKA NO -TCPB NO -CMP NO -downStateFlush DISABLED -appflowLog DISABLED -devno 36372480
add server austin01.its.uwo.pri 172.31.30.44 -comment NOC-8872 -devno 16853
bind lb vserver finance.uwo.ca--49000-failover02 finance--austin03--49000
add service finance--austin03--49000 austin03.its.uwo.pri TCP 49000 -gslb NONE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -sp OFF -cltTimeout 301 -svrTimeout 301 -CKA NO -TCPB NO -CMP NO -downStateFlush DISABLED -appflowLog DISABLED -devno 37158912
add server austin03.its.uwo.pri 172.31.30.46 -comment NOC-8872 -devno 16855
bind lb vserver finance.uwo.ca--49000-failover03 finance--austin04--49000
add service finance--austin04--49000 austin04.its.uwo.pri TCP 49000 -gslb NONE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -sp OFF -cltTimeout 301 -svrTimeout 301 -CKA NO -TCPB NO -CMP NO -downStateFlush DISABLED -appflowLog DISABLED -devno 37289984
add server austin04.its.uwo.pri 172.31.30.47 -comment NOC-8872 -devno 16856



---------------------------------------------------------
### recruit-dev.wisg.uwo.ca--443 ########## - Hover for more details - ##########

# not following -policyName reference

add lb vserver recruit-dev.wisg.uwo.ca--443 SSL 172.31.25.121 443 -persistenceType COOKIEINSERT -timeout 0 -cltTimeout 1201 -comment NOC-17839 -redirectFromPort 80 -httpsRedirectUrl "https://recruit-dev.wisg.uwo.ca" -devno 76087296
bind lb vserver recruit-dev.wisg.uwo.ca--443 recruit-dev--7057
add serviceGroup recruit-dev--7057 HTTP -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -comment NOC-17839 -devno 55607296
bind serviceGroup recruit-dev--7057 watson03.its.uwo.pri 7057 -devno 120225792
add server watson03.its.uwo.pri 172.29.52.39 -comment NOC-8761 -devno 16846
bind serviceGroup recruit-dev--7057 watson02.its.uwo.pri 7057 -devno 120193024
add server watson02.its.uwo.pri 172.29.52.38 -comment NOC-8761 -devno 16845
bind serviceGroup recruit-dev--7057 -monitorName recruit-dev-index-check -devno 120258560
add lb monitor recruit-dev-index-check HTTP -respCode 200 -httpRequest "HEAD /index.html" -LRTM ENABLED -interval 20 -resptimeout 5 -devno 21436
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -cipherName UWO-default
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -certkeyName wc_recruit-dev_wisg_uwo_ca_v1
add ssl certKey wc_recruit-dev_wisg_uwo_ca_v1 -cert "/nsconfig/ssl/wc_recruit-dev_wisg_uwo_ca_v1_cert.pem" -key "/nsconfig/ssl/wc_recruit-dev_wisg_uwo_ca_v1_key.pem" 36d3f278db3556c7c578fe9e1a7d391997849f3838d584d6133a200481816c414df22e41fda677b4c79baedf90ed7ed0 -encrypted -encryptmethod ENCMTHD_3 -kek -suffix 2022_09_28_20_29_18 -expiryMonitor DISABLED
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -certkeyName Sectigo_intermediate -CA -ocspCheck Optional
add ssl certKey Sectigo_intermediate -cert SectigoRSAOrganizationValidationSecureServerCA-int.der -inform DER -expiryMonitor DISABLED
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -certkeyName Sectigo-Intermediate-2-usr-trust -CA -ocspCheck Optional
add ssl certKey Sectigo-Intermediate-2-usr-trust -cert "USERTrust RSA Certification Authority.pem" -expiryMonitor DISABLED
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -certkeyName Sectigo-Root-AAA-cert -CA -ocspCheck Optional
add ssl certKey Sectigo-Root-AAA-cert -cert "AAA Certificate Services.pem" -expiryMonitor DISABLED
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -eccCurveName P_256
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -eccCurveName P_384
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -eccCurveName P_224
bind ssl vserver recruit-dev.wisg.uwo.ca--443 -eccCurveName P_521
bind lb vserver recruit-dev.wisg.uwo.ca--443 -policyName res_invite.recruit-dev -priority 100 -gotoPriorityExpression END -type REQUEST




### westernworldwide.uwo.ca--443 ########## - Hover for more details - ##########

# rule for -redirect reference

add lb vserver westernworldwide.uwo.ca--443 SSL 129.100.0.69 443 -persistenceType COOKIEINSERT -timeout 1201 -redirectURL "https://www.uwo.ca/western/PeopleSoft/WIOutage/WIStaticNormal.html" -cltTimeout 1201 -devno 57442304

bind lb vserver westernworldwide.uwo.ca--443 westernworldwide--willis01.its.uwo.pri--7170
add service westernworldwide--willis01.its.uwo.pri--7170 willis01.its.uwo.pri HTTP 7170 -gslb NONE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -sp OFF -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -downStateFlush DISABLED -devno 52101120
add server willis01.its.uwo.pri 172.29.52.72 -comment NOC-15774 -devno 16911
bind ssl vserver westernworldwide.uwo.ca--443 -cipherName UWO-default
bind ssl vserver westernworldwide.uwo.ca--443 -certkeyName westernworldwide_uwo_ca_v1
add ssl certKey westernworldwide_uwo_ca_v1 -cert westernworldwide_uwo_ca_v1.crt -key westernworldwide_uwo_ca_v1.key 55f72a447442a909a275097253767785f2c99acb3fd983f45b49d6c823253821f383ee2126eb52d58825ade97f7640b3 -encrypted -encryptmethod ENCMTHD_3 -kek -suffix 2022_09_28_20_29_18 -expiryMonitor DISABLED
bind ssl vserver westernworldwide.uwo.ca--443 -certkeyName Sectigo_intermediate -CA -ocspCheck Optional
add ssl certKey Sectigo_intermediate -cert SectigoRSAOrganizationValidationSecureServerCA-int.der -inform DER -expiryMonitor DISABLED
bind ssl vserver westernworldwide.uwo.ca--443 -certkeyName Sectigo-Intermediate-2-usr-trust -CA -ocspCheck Optional
add ssl certKey Sectigo-Intermediate-2-usr-trust -cert "USERTrust RSA Certification Authority.pem" -expiryMonitor DISABLED
bind ssl vserver westernworldwide.uwo.ca--443 -certkeyName Sectigo-Root-AAA-cert -CA -ocspCheck Optional
add ssl certKey Sectigo-Root-AAA-cert -cert "AAA Certificate Services.pem" -expiryMonitor DISABLED
bind ssl vserver westernworldwide.uwo.ca--443 -eccCurveName P_256
bind ssl vserver westernworldwide.uwo.ca--443 -eccCurveName P_384
bind ssl vserver westernworldwide.uwo.ca--443 -eccCurveName P_224
bind ssl vserver westernworldwide.uwo.ca--443 -eccCurveName P_521
bind lb vserver westernworldwide.uwo.ca--443 westernworldwide--willis02.its.uwo.pri--7170
add service westernworldwide--willis02.its.uwo.pri--7170 willis02.its.uwo.pri HTTP 7170 -gslb NONE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -sp OFF -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -downStateFlush DISABLED -devno 52133888
add server willis02.its.uwo.pri 172.29.52.73 -comment NOC-15774 -devno 16912
bind lb vserver westernworldwide.uwo.ca--443 westernworldwide--willis03.its.uwo.pri--7170
add service westernworldwide--willis03.its.uwo.pri--7170 willis03.its.uwo.pri HTTP 7170 -gslb NONE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -sp OFF -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -downStateFlush DISABLED -devno 54198272
add server willis03.its.uwo.pri 172.29.52.74 -comment NOC-15774 -devno 16907
bind lb vserver westernworldwide.uwo.ca--443 westernworldwide--willis04.its.uwo.pri--7170
add service westernworldwide--willis04.its.uwo.pri--7170 willis04.its.uwo.pri HTTP 7170 -gslb NONE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -sp OFF -cltTimeout 1201 -svrTimeout 1201 -CKA NO -TCPB NO -CMP NO -downStateFlush DISABLED -devno 54231040
add server willis04.its.uwo.pri 172.29.52.75 -comment NOC-15774 -devno 16908

    {
        "code": "4818",
        "severity": "Warning",
        "title": "vServer redirect detected",
        "message": "this is typically handed on f5 with an irule to detect number of pool member avaialable and redirect as needed",
        "regex": "-redirectURL"
    },






--------------------------------------------

### groot-cs-redirect ########## - Hover for more details - ##########

# json output not working.  bug in map somewhere

add cs vserver groot-cs-redirect HTTP 192.168.10.65 80 -cltTimeout 180 -persistenceType NONE -devno 54722560
bind cs vserver groot-cs-redirect -policyName groot-i-cs-policy -priority 100 -devno 112005
bind cs vserver groot-cs-redirect -policyName groot-am-cs-policy -priority 110 -devno 112005
bind cs vserver groot-cs-redirect -policyName groot-yes-cs-policy -priority 120 -devno 112005
bind cs vserver groot-cs-redirect -policyName groot-groot-cs-policy -priority 130 -devno 112005
add cs policy groot-i-cs-policy -rule "HTTP.REQ.HOSTNAME.CONTAINS(\"grooti\")" -action groot-i-cs-action
add cs action groot-i-cs-action -targetLBVserver groot-i-lb-vsvr
add cs policy groot-am-cs-policy -rule "HTTP.REQ.HOSTNAME.CONTAINS(\"grootam\")" -action groot-am-cs-action
add cs action groot-am-cs-action -targetLBVserver groot-am-lb-vsvr
add cs policy groot-yes-cs-policy -rule "HTTP.REQ.HOSTNAME.CONTAINS(\"grootyes\")" -action groot-yes-cs-action
add cs action groot-yes-cs-action -targetLBVserver groot-yes-lb-vsvr
add cs policy groot-groot-cs-policy -rule "HTTP.REQ.HOSTNAME.CONTAINS(\"groot\")" -action groot-groot-cs-action
add cs action groot-groot-cs-action -targetLBVserver groot-groot-lb-vsvr
add lb vserver groot-i-lb-vsvr SSL 0.0.0.0 0 -persistenceType SOURCEIP -timeout 30 -cltTimeout 180 -devno 50823168
bind lb vserver groot-i-lb-vsvr groot-i-svc-grp
add serviceGroup groot-i-svc-grp SSL -maxClient 1000 -maxReq 0 -cip ENABLED X-Client-IP -usip NO -useproxyport YES -cltTimeout 180 -svrTimeout 360 -CKA NO -TCPB NO -CMP NO -devno 47382528
bind serviceGroup groot-i-svc-grp sprout134A-grooti 443 -devno 71041024
add server sprout134A-grooti 192.168.160.138 -devno 108843
bind serviceGroup groot-i-svc-grp sprout134B-grooti 443 -devno 71073792
add server sprout134B-grooti 192.168.160.140 -devno 108844
bind serviceGroup groot-i-svc-grp -monitorName ping -devno 71106560
bind ssl vserver groot-i-lb-vsvr -certkeyName star.groot.cer
add ssl certKey star.groot.cer -cert www.star.groot_2022.pfx -key www.star.groot_2022.pfx -inform PFX -passcrypt XXXX -encrypted -encryptmethod ENCMTHD_3
bind ssl vserver groot-i-lb-vsvr -eccCurveName P_256
bind ssl vserver groot-i-lb-vsvr -eccCurveName P_384
bind ssl vserver groot-i-lb-vsvr -eccCurveName P_224
bind ssl vserver groot-i-lb-vsvr -eccCurveName P_521
add lb vserver groot-am-lb-vsvr SSL 0.0.0.0 0 -persistenceType SOURCEIP -timeout 30 -cltTimeout 180 -devno 50855936
bind lb vserver groot-am-lb-vsvr groot-am-svc-grp
add serviceGroup groot-am-svc-grp SSL -maxClient 1000 -maxReq 0 -cip ENABLED X-Client-IP -usip NO -useproxyport YES -cltTimeout 180 -svrTimeout 360 -CKA NO -TCPB NO -CMP NO -devno 47415296
bind serviceGroup groot-am-svc-grp sprout134A_grootam 443 -devno 71139328
add server sprout134A_grootam 192.168.160.118 -devno 108845
bind serviceGroup groot-am-svc-grp sprout134B_grootam 443 -devno 71172096
add server sprout134B_grootam 192.168.160.119 -devno 108846
bind ssl vserver groot-am-lb-vsvr -certkeyName star.groot.cer
bind ssl vserver groot-am-lb-vsvr -eccCurveName P_256
bind ssl vserver groot-am-lb-vsvr -eccCurveName P_384
bind ssl vserver groot-am-lb-vsvr -eccCurveName P_224
bind ssl vserver groot-am-lb-vsvr -eccCurveName P_521
add lb vserver groot-yes-lb-vsvr SSL 0.0.0.0 0 -persistenceType SOURCEIP -timeout 30 -cltTimeout 180 -devno 50921472
bind lb vserver groot-yes-lb-vsvr groot-yes-svc-grp
add serviceGroup groot-yes-svc-grp SSL -maxClient 1000 -maxReq 0 -cip ENABLED X-Client-IP -usip NO -useproxyport YES -cltTimeout 180 -svrTimeout 360 -CKA NO -TCPB NO -CMP NO -devno 47448064
bind ssl vserver groot-yes-lb-vsvr -certkeyName star.groot.cer
bind ssl vserver groot-yes-lb-vsvr -eccCurveName P_256
bind ssl vserver groot-yes-lb-vsvr -eccCurveName P_384
bind ssl vserver groot-yes-lb-vsvr -eccCurveName P_224
bind ssl vserver groot-yes-lb-vsvr -eccCurveName P_521
add lb vserver groot-groot-lb-vsvr SSL 0.0.0.0 0 -persistenceType SOURCEIP -timeout 30 -cltTimeout 180 -devno 50888704
bind lb vserver groot-groot-lb-vsvr groot-svc-grp
bind ssl vserver groot-groot-lb-vsvr -certkeyName star.groot.cer
bind ssl vserver groot-groot-lb-vsvr -eccCurveName P_256
bind ssl vserver groot-groot-lb-vsvr -eccCurveName P_384
bind ssl vserver groot-groot-lb-vsvr -eccCurveName P_224
bind ssl vserver groot-groot-lb-vsvr -eccCurveName P_521